## **2.2数据字典（OD）**

### 数据字典

| **数据项** | **说明**         | **类型**           | **取值范围或格式**                             |
| ---------- | ---------------- | ------------------ | ---------------------------------------------- |
| `uuid`     | 用户全局唯一标识 | `UNIQUEIDENTIFIER` | 系统自动生成                                   |
| `username` | 用户名           | `VARCHAR(50)`      | 任意非空字符串，唯一                           |
| `password` | 用户密码         | `VARCHAR(100)`     | 任意非空字符串                                 |
| `role`     | 用户角色         | `VARCHAR(20)`      | `'admin'`, `'doctor'`, `'patient'`, `'worker'` |
| `role_id`  | 角色表主键 ID    | `INT`              | 与对应角色表的主键关联                         |

#### 患者表 (`patients`)
| **数据项**       | **说明** | **类型**      | **取值范围或格式**                     |
| ---------------- | -------- | ------------- | -------------------------------------- |
| `patient_id`     | 患者 ID  | `INT`         | 自动生成，8 位数字（`10000001`起递增） |
| `name`           | 患者姓名 | `VARCHAR(50)` | 任意非空字符串                         |
| `gender`         | 性别     | `VARCHAR(10)` | `'男'`, `'女'`                         |
| `age`            | 年龄     | `INT`         | 正整数                                 |
| `contact_number` | 联系方式 | `VARCHAR(15)` | 手机号或固定电话                       |

#### 医生表 (`doctors`)
| **数据项**       | **说明** | **类型**      | **取值范围或格式**                                       |
| ---------------- | -------- | ------------- | -------------------------------------------------------- |
| `doctor_id`      | 医生 ID  | `INT`         | 部门代码 + 职称代码 + 序列号 (详见规则文件)              |
| `name`           | 医生姓名 | `VARCHAR(50)` | 任意非空字符串                                           |
| `gender`         | 性别     | `VARCHAR(10)` | `'男'`, `'女'`                                           |
| `department`     | 科室     | `VARCHAR(50)` | 任意非空字符串                                           |
| `title`          | 职称     | `VARCHAR(50)` | `'主任医师'`, `'副主任医师'`, `'主治医师'`, `'住院医师'` |
| `contact_number` | 联系方式 | `VARCHAR(15)` | 手机号或固定电话                                         |

#### 工人表 (`workers`)
| **数据项**       | **说明** | **类型**      | **取值范围或格式**                     |
| ---------------- | -------- | ------------- | -------------------------------------- |
| `worker_id`      | 工人 ID  | `INT`         | 自动生成，8 位数字（`10000001`起递增） |
| `name`           | 工人姓名 | `VARCHAR(50)` | 任意非空字符串                         |
| `age`            | 年龄     | `INT`         | 正整数                                 |
| `contact_number` | 联系方式 | `VARCHAR(15)` | 手机号或固定电话                       |

#### 管理员表 (`admins`)
| **数据项**       | **说明**   | **类型**      | **取值范围或格式**                 |
| ---------------- | ---------- | ------------- | ---------------------------------- |
| `admin_id`       | 管理员 ID  | `INT`         | 自动生成，4 位数字（`0001`起递增） |
| `name`           | 管理员姓名 | `VARCHAR(50)` | 任意非空字符串                     |
| `contact_number` | 联系方式   | `VARCHAR(15)` | 手机号或固定电话                   |

#### 处方表 (`prescriptions`)
| **数据项**             | **说明**     | **类型**      | **取值范围或格式**                             |
| ---------------------- | ------------ | ------------- | ---------------------------------------------- |
| `prescription_id`      | 处方 ID      | `INT`         | 自动生成                                       |
| `patient_id`           | 患者 ID      | `INT`         | 关联患者表主键                                 |
| `doctor_id`            | 医生 ID      | `INT`         | 关联医生表主键                                 |
| `date`                 | 开方时间     | `DATETIME`    | 自动生成当前时间                               |
| `amount`               | 总金额       | `FLOAT`       | 任意正数                                       |
| `usage_instructions`   | 用药说明     | `TEXT`        | 任意非空字符串                                 |
| `status`               | 处方状态     | `VARCHAR(20)` | `'待配方'`, `'待浸泡'`, `'待煎药'`, `'已完成'` |
| `expected_pickup_time` | 预计取药时间 | `DATETIME`    | 根据业务逻辑自动计算                           |

#### 任务表 (`tasks`)
| **数据项**              | **说明**     | **类型**      | **取值范围或格式**   |
| ----------------------- | ------------ | ------------- | -------------------- |
| `task_id`               | 任务 ID      | `INT`         | 自动生成             |
| `prescription_id`       | 处方 ID      | `INT`         | 关联处方表主键       |
| `receive_worker_id`     | 收方工人 ID  | `INT`         | 关联工人表主键       |
| `receive_worker_name`   | 收方工人姓名 | `VARCHAR(50)` | 任意非空字符串       |
| `form_worker_id`        | 配方工人 ID  | `INT`         | 关联工人表主键       |
| `form_worker_name`      | 配方工人姓名 | `VARCHAR(50)` | 任意非空字符串       |
| `decoction_worker_id`   | 煎药工人 ID  | `INT`         | 关联工人表主键       |
| `decoction_worker_name` | 煎药工人姓名 | `VARCHAR(50)` | 任意非空字符串       |
| `admin_id`              | 管理员 ID    | `INT`         | 关联管理员表主键     |
| `admin_name`            | 管理员姓名   | `VARCHAR(50)` | 任意非空字符串       |
| `receive_time`          | 收方时间     | `DATETIME`    | 任意有效时间         |
| `form_time`             | 配方时间     | `DATETIME`    | 任意有效时间         |
| `decoction_start_time`  | 煎药开始时间 | `DATETIME`    | 任意有效时间         |
| `decoction_end_time`    | 煎药结束时间 | `DATETIME`    | 任意有效时间         |
| `status`                | 任务状态     | `VARCHAR(20)` | `'未完成'`, `'完成'` |