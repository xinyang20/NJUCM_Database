## **2.2数据字典（OD）**

### 用户表（`User`）

| **数据项** | **说明**         | **类型**           | **取值范围或格式**                             |
| ---------- | ---------------- | ------------------ | ---------------------------------------------- |
| `uuid`     | 用户全局唯一标识 | `UNIQUEIDENTIFIER` | 系统自动生成                                   |
| `username` | 用户名           | `VARCHAR(50)`      | 任意非空字符串，唯一                           |
| `password` | 用户密码         | `VARCHAR(100)`     | 任意非空字符串                                 |
| `role`     | 用户角色         | `VARCHAR(20)`      | `'admin'`, `'doctor'`, `'patient'`, `'worker'` |
| `role_id`  | 角色表主键 ID    | `INT`              | 与对应角色表的主键关联                         |

#### 患者表 (`patients`)

| **数据项**       | **说明** | **类型**      | **取值范围或格式**                     |
| ---------------- | -------- | ------------- | -------------------------------------- |
| `patient_id`     | 患者 ID  | `INT`         | 自动生成，8 位数字（`10000001`起递增） |
| `name`           | 患者姓名 | `VARCHAR(50)` | 任意非空字符串                         |
| `gender`         | 性别     | `VARCHAR(10)` | `'男'`, `'女'`                         |
| `age`            | 年龄     | `INT`         | 正整数                                 |
| `contact_number` | 联系方式 | `VARCHAR(15)` | 手机号或固定电话                       |

#### 医生表 (`doctors`)
| **数据项**       | **说明** | **类型**      | **取值范围或格式**                                       |
| ---------------- | -------- | ------------- | -------------------------------------------------------- |
| `doctor_id`      | 医生 ID  | `INT`         | 部门代码 + 职称代码 + 序列号 (详见规则文件)              |
| `name`           | 医生姓名 | `VARCHAR(50)` | 任意非空字符串                                           |
| `gender`         | 性别     | `VARCHAR(10)` | `'男'`, `'女'`                                           |
| `department`     | 科室     | `VARCHAR(50)` | 任意非空字符串                                           |
| `title`          | 职称     | `VARCHAR(50)` | `'主任医师'`, `'副主任医师'`, `'主治医师'`, `'住院医师'` |
| `contact_number` | 联系方式 | `VARCHAR(15)` | 手机号或固定电话                                         |

#### 工人表 (`workers`)
| **数据项**       | **说明** | **类型**      | **取值范围或格式**                     |
| ---------------- | -------- | ------------- | -------------------------------------- |
| `worker_id`      | 工人 ID  | `INT`         | 自动生成，8 位数字（`10000001`起递增） |
| `name`           | 工人姓名 | `VARCHAR(50)` | 任意非空字符串                         |
| `age`            | 年龄     | `INT`         | 正整数                                 |
| `contact_number` | 联系方式 | `VARCHAR(15)` | 手机号或固定电话                       |

#### 管理员表 (`admins`)
| **数据项**       | **说明**   | **类型**      | **取值范围或格式**                 |
| ---------------- | ---------- | ------------- | ---------------------------------- |
| `admin_id`       | 管理员 ID  | `INT`         | 自动生成，4 位数字（`0001`起递增） |
| `name`           | 管理员姓名 | `VARCHAR(50)` | 任意非空字符串                     |
| `contact_number` | 联系方式   | `VARCHAR(15)` | 手机号或固定电话                   |

#### 处方表 (`prescriptions`)
| **数据项**             | **说明**     | **类型**      | **取值范围或格式**                             |
| ---------------------- | ------------ | ------------- | ---------------------------------------------- |
| `prescription_id`      | 处方 ID      | `INT`         | 自动生成                                       |
| `patient_id`           | 患者 ID      | `INT`         | 关联患者表主键                                 |
| `doctor_id`            | 医生 ID      | `INT`         | 关联医生表主键                                 |
| `date`                 | 开方时间     | `DATETIME`    | 自动生成当前时间                               |
| `amount`               | 总金额       | `FLOAT`       | 任意正数                                       |
| `usage_instructions`   | 用药说明     | `TEXT`        | 任意非空字符串                                 |
| `status`               | 处方状态     | `VARCHAR(20)` | `'待配方'`, `'待浸泡'`, `'待煎药'`, `'已完成'` |
| `expected_pickup_time` | 预计取药时间 | `DATETIME`    | 根据业务逻辑自动计算                           |

#### 任务表 (`tasks`)
| **数据项**              | **说明**     | **类型**      | **取值范围或格式**   |
| ----------------------- | ------------ | ------------- | -------------------- |
| `task_id`               | 任务 ID      | `INT`         | 自动生成             |
| `prescription_id`       | 处方 ID      | `INT`         | 关联处方表主键       |
| `receive_worker_id`     | 收方工人 ID  | `INT`         | 关联工人表主键       |
| `receive_worker_name`   | 收方工人姓名 | `VARCHAR(50)` | 任意非空字符串       |
| `form_worker_id`        | 配方工人 ID  | `INT`         | 关联工人表主键       |
| `form_worker_name`      | 配方工人姓名 | `VARCHAR(50)` | 任意非空字符串       |
| `decoction_worker_id`   | 煎药工人 ID  | `INT`         | 关联工人表主键       |
| `decoction_worker_name` | 煎药工人姓名 | `VARCHAR(50)` | 任意非空字符串       |
| `admin_id`              | 管理员 ID    | `INT`         | 关联管理员表主键     |
| `admin_name`            | 管理员姓名   | `VARCHAR(50)` | 任意非空字符串       |
| `receive_time`          | 收方时间     | `DATETIME`    | 任意有效时间         |
| `form_time`             | 配方时间     | `DATETIME`    | 任意有效时间         |
| `decoction_start_time`  | 煎药开始时间 | `DATETIME`    | 任意有效时间         |
| `decoction_end_time`    | 煎药结束时间 | `DATETIME`    | 任意有效时间         |
| `status`                | 任务状态     | `VARCHAR(20)` | `'未完成'`, `'完成'` |







------

### **2.2 数据字典（DD）**

#### **患者表（patients）**

**数据项名**：`patient_id`

- **说明**：患者唯一标识
- **类型**：整数型
- **长度**：INT
- **别名**：患者ID
- **取值范围**：正整数，范围从 `10000001` 到 `99999999`，自动增长，8位数字。

**数据项名**：`name`

- **说明**：患者姓名
- **类型**：字符串型
- **长度**：VARCHAR(50)
- **别名**：姓名
- **取值范围**：1~50 个字符

**数据项名**：`gender`

- **说明**：患者性别
- **类型**：字符串型
- **长度**：VARCHAR(10)
- **别名**：性别
- **取值范围**：`'男'`, `'女'`

**数据项名**：`age`

- **说明**：患者年龄
- **类型**：整数型
- **长度**：INT
- **别名**：年龄
- **取值范围**：0~120

**数据项名**：`contact_number`

- **说明**：患者联系方式
- **类型**：字符串型
- **长度**：VARCHAR(15)
- **别名**：联系方式
- **取值范围**：有效的电话号码，最多15位数字

------

#### **处方表（prescriptions）**

**数据项名**：`prescription_id`

- **说明**：处方唯一标识
- **类型**：整数型
- **长度**：INT
- **别名**：处方ID
- **取值范围**：正整数

**数据项名**：`patient_id`

- **说明**：患者ID，关联患者表
- **类型**：整数型
- **长度**：INT
- **别名**：患者ID
- **取值范围**：正整数，关联患者表的 `patient_id`

**数据项名**：`doctor_id`

- **说明**：医生ID，关联医生表
- **类型**：整数型
- **长度**：INT
- **别名**：医生ID
- **取值范围**：正整数，关联医生表的 `doctor_id`

**数据项名**：`date`

- **说明**：处方开具日期
- **类型**：日期时间型
- **长度**：DATETIME
- **别名**：开方日期
- **取值范围**：有效的日期时间格式

**数据项名**：`amount`

- **说明**：处方金额
- **类型**：浮动型
- **长度**：DECIMAL(10,2)
- **别名**：金额
- **取值范围**：大于0的浮动金额

**数据项名**：`usage_instructions`

- **说明**：用药指导说明
- **类型**：文本型
- **长度**：TEXT
- **别名**：用法说明
- **取值范围**：无固定长度，存储用药指导文本

**数据项名**：`status`

- **说明**：处方状态
- **类型**：字符串型
- **长度**：VARCHAR(20)
- **别名**：处方状态
- **取值范围**：`'待配方'`, `'已配方'`, `'已完成'`

**数据项名**：`expected_pickup_time`

- **说明**：预计取药时间
- **类型**：日期时间型
- **长度**：DATETIME
- **别名**：预计取药时间
- **取值范围**：有效的日期时间格式，取决于系统的业务需求

------

#### **任务表（tasks）**

**数据项名**：`task_id`

- **说明**：任务唯一标识
- **类型**：整数型
- **长度**：INT
- **别名**：任务ID
- **取值范围**：正整数，自动生成

**数据项名**：`prescription_id`

- **说明**：处方ID，关联处方表
- **类型**：整数型
- **长度**：INT
- **别名**：处方ID
- **取值范围**：正整数，关联处方表的 `prescription_id`

**数据项名**：`receive_worker_id`

- **说明**：收方工人ID，关联工人表
- **类型**：整数型
- **长度**：INT
- **别名**：收方工人ID
- **取值范围**：正整数，关联工人表的 `worker_id`

**数据项名**：`receive_worker_name`

- **说明**：收方工人姓名
- **类型**：字符串型
- **长度**：VARCHAR(50)
- **别名**：收方工人姓名
- **取值范围**：1~50 个字符

**数据项名**：`form_worker_id`

- **说明**：配方工人ID，关联工人表
- **类型**：整数型
- **长度**：INT
- **别名**：配方工人ID
- **取值范围**：正整数，关联工人表的 `worker_id`

**数据项名**：`form_worker_name`

- **说明**：配方工人姓名
- **类型**：字符串型
- **长度**：VARCHAR(50)
- **别名**：配方工人姓名
- **取值范围**：1~50 个字符

**数据项名**：`decoction_worker_id`

- **说明**：煎药工人ID，关联工人表
- **类型**：整数型
- **长度**：INT
- **别名**：煎药工人ID
- **取值范围**：正整数，关联工人表的 `worker_id`

**数据项名**：`decoction_worker_name`

- **说明**：煎药工人姓名
- **类型**：字符串型
- **长度**：VARCHAR(50)
- **别名**：煎药工人姓名
- **取值范围**：1~50 个字符

**数据项名**：`admin_id`

- **说明**：任务分配管理员ID，关联管理员表
- **类型**：整数型
- **长度**：INT
- **别名**：管理员ID
- **取值范围**：正整数，关联管理员表的 `admin_id`

**数据项名**：`admin_name`

- **说明**：任务分配管理员姓名
- **类型**：字符串型
- **长度**：VARCHAR(50)
- **别名**：管理员姓名
- **取值范围**：1~50 个字符

**数据项名**：`receive_time`

- **说明**：处方接收时间

- **类型**：日期时间型
- **长度**：DATETIME
- **别名**：接收时间
- **取值范围**：有效的日期时间格式

**数据项名**：`form_time`

- **说明**：配方时间
- **类型**：日期时间型
- **长度**：DATETIME
- **别名**：配方时间
- **取值范围**：有效的日期时间格式

**数据项名**：`decoction_start_time`

- **说明**：煎药开始时间
- **类型**：日期时间型
- **长度**：DATETIME
- **别名**：煎药开始时间
- **取值范围**：有效的日期时间格式

**数据项名**：`decoction_end_time`

- **说明**：煎药结束时间
- **类型**：日期时间型
- **长度**：DATETIME
- **别名**：煎药结束时间
- **取值范围**：有效的日期时间格式

**数据项名**：`status`

- **说明**：任务状态
- **类型**：字符串型
- **长度**：VARCHAR(20)
- **别名**：任务状态
- **取值范围**：`'未完成'`, `'完成'`

------

#### **用户表（users）**

**数据项名**：`uuid`

- **说明**：用户全局唯一标识
- **类型**：唯一标识符
- **长度**：UNIQUEIDENTIFIER
- **别名**：用户UUID
- **取值范围**：自动生成的全局唯一标识符

**数据项名**：`username`

- **说明**：用户名
- **类型**：字符串型
- **长度**：VARCHAR(50)
- **别名**：用户名
- **取值范围**：1~50 个字符，唯一

**数据项名**：`password`

- **说明**：明文密码
- **类型**：字符串型
- **长度**：VARCHAR(100)
- **别名**：密码
- **取值范围**：1~100 个字符，明文密码（开发阶段）

**数据项名**：`role`

- **说明**：用户角色类型
- **类型**：字符串型
- **长度**：VARCHAR(20)
- **别名**：角色
- **取值范围**：`'admin'`, `'doctor'`, `'patient'`, `'worker'`

**数据项名**：`role_id`

- **说明**：角色表主键ID，作为外键

- **类型**：整数型

- **长度**：INT

- **别名**：角色ID

- **取值范围**：正整数，关联角色表

	---

#### **工人表（workers）**

**数据项名**：`worker_id`

- **说明**：工人唯一标识
- **类型**：整数型
- **长度**：INT
- **别名**：工人ID
- **取值范围**：正整数，范围从 `10000001` 到 `99999999`，8位数字，自动增长。

**数据项名**：`name`

- **说明**：工人姓名
- **类型**：字符串型
- **长度**：VARCHAR(50)
- **别名**：姓名
- **取值范围**：1~50 个字符

**数据项名**：`age`

- **说明**：工人年龄
- **类型**：整数型
- **长度**：INT
- **别名**：年龄
- **取值范围**：0~120

**数据项名**：`contact_number`

- **说明**：工人联系方式
- **类型**：字符串型
- **长度**：VARCHAR(15)
- **别名**：联系方式
- **取值范围**：有效的电话号码，最多15位数字

------

#### **管理员表（admins）**

**数据项名**：`admin_id`

- **说明**：管理员唯一标识
- **类型**：整数型
- **长度**：INT
- **别名**：管理员ID
- **取值范围**：正整数，范围从 `1001` 到 `9999`，4位数字，自动增长。

**数据项名**：`name`

- **说明**：管理员姓名
- **类型**：字符串型
- **长度**：VARCHAR(50)
- **别名**：姓名
- **取值范围**：1~50 个字符

**数据项名**：`contact_number`

- **说明**：管理员联系方式
- **类型**：字符串型
- **长度**：VARCHAR(15)
- **别名**：联系方式
- **取值范围**：有效的电话号码，最多15位数字

------

#### **医生表（doctors）**

**数据项名**：`doctor_id`

- **说明**：医生唯一标识，按科室、职称及流水号生成
- **类型**：字符串型
- **长度**：VARCHAR(8)
- **别名**：医生ID
- **取值范围**：由科室代码（2位）+职称代码（2位）+流水号（4位）组成，自动递增，示例格式：`01010001`（内科主任医师第1位）

**数据项名**：`name`

- **说明**：医生姓名
- **类型**：字符串型
- **长度**：VARCHAR(50)
- **别名**：姓名
- **取值范围**：1~50 个字符

**数据项名**：`gender`

- **说明**：医生性别
- **类型**：字符串型
- **长度**：VARCHAR(10)
- **别名**：性别
- **取值范围**：`'男'`, `'女'`

**数据项名**：`department`

- **说明**：医生所属科室
- **类型**：字符串型
- **长度**：VARCHAR(50)
- **别名**：科室
- **取值范围**：如 `'内科'`, `'外科'`, `'儿科'` 等

**数据项名**：`title`

- **说明**：医生职称
- **类型**：字符串型
- **长度**：VARCHAR(50)
- **别名**：职称
- **取值范围**：如 `'主任医师'`, `'副主任医师'`, `'主治医师'` 等

**数据项名**：`contact_number`

- **说明**：医生联系电话
- **类型**：字符串型
- **长度**：VARCHAR(15)
- **别名**：联系电话
- **取值范围**：有效的电话号码，最多15位数字