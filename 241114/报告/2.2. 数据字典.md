## **数据字典**

### **1. 数据项**

| **数据项名称（英文）** | **说明（中文名）** | **类型**      | **取值范围或格式**  |
| ---------------------- | ------------------ | ------------- | ------------------- |
| patient_id             | 患者ID             | INT           | 主键，自动生成      |
| patient_name           | 患者姓名           | VARCHAR(50)   | 非空，任意字符串    |
| contact_number         | 联系方式           | VARCHAR(15)   | 电话号码格式        |
| doctor_id              | 医生ID             | INT           | 主键，自动生成      |
| doctor_name            | 医生姓名           | VARCHAR(50)   | 非空，任意字符串    |
| department_name        | 所属科室           | VARCHAR(50)   | 非空，任意字符串    |
| prescription_id        | 处方编号           | INT           | 主键，自动生成      |
| pickup_method          | 取药方式           | VARCHAR(20)   | 自取/配送           |
| prescription_date      | 开方日期           | DATE          | YYYY-MM-DD          |
| prescription_amount    | 处方金额           | DECIMAL(10,2) | 非负数              |
| prescription_weight    | 处方重量           | FLOAT         | 非负数              |
| dose_count             | 剂数               | INT           | 非负整数            |
| usage_instructions     | 用法               | TEXT          | 任意文本            |
| expected_pickup_time   | 预计取药时间       | DATETIME      | YYYY-MM-DD HH:MM:SS |
| pharmacy_id            | 代煎药院ID         | INT           | 主键，自动生成      |
| pharmacy_name          | 代煎药院名称       | VARCHAR(100)  | 非空                |
| machine_id             | 煎药机器ID         | INT           | 主键，自动生成      |
| machine_status         | 机器状态           | VARCHAR(20)   | 空闲/使用中/维护中  |
| decoction_id           | 煎药记录编号       | INT           | 主键，自动生成      |
| pickup_date            | 收方日期           | DATE          | YYYY-MM-DD          |
| formulation_staff      | 配方人员           | VARCHAR(50)   | 非空                |
| formulation_date       | 配方时间           | DATETIME      | YYYY-MM-DD HH:MM:SS |
| soaking_staff          | 浸泡人员           | VARCHAR(50)   | 可为空              |
| soaking_start_time     | 浸泡开始时间       | DATETIME      | 可为空              |
| soaking_end_time       | 浸泡结束时间       | DATETIME      | 可为空              |
| decoction_staff        | 煎药人员           | VARCHAR(50)   | 非空                |
| decoction_start_time   | 煎药开始时间       | DATETIME      | 非空                |
| decoction_end_time     | 煎药结束时间       | DATETIME      | 非空                |
| print_staff            | 成品打印人员       | VARCHAR(50)   | 非空                |
| print_time             | 成品打印时间       | DATETIME      | 非空                |
| actual_pickup_time     | 实际取药时间       | DATETIME      | 可为空              |

---

### **2. 数据结构**

| **数据结构名称（英文）** | **组成的数据项**                                             | **说明（中文名）** |
| ------------------------ | ------------------------------------------------------------ | ------------------ |
| patient_info             | patient_id, patient_name, contact_number                     | 患者信息结构       |
| doctor_info              | doctor_id, doctor_name, department_name                      | 医生信息结构       |
| prescription_info        | prescription_id, patient_id, doctor_id, pickup_method, prescription_date, prescription_amount, prescription_weight, dose_count, usage_instructions, expected_pickup_time | 处方信息结构       |
| pharmacy_info            | pharmacy_id, pharmacy_name                                   | 代煎药院信息结构   |
| machine_info             | machine_id, pharmacy_id, machine_status                      | 煎药机器信息结构   |
| decoction_record_info    | decoction_id, prescription_id, pharmacy_id, machine_id, pickup_date, formulation_staff, formulation_date, soaking_staff, soaking_start_time, soaking_end_time, decoction_staff, decoction_start_time, decoction_end_time, print_staff, print_time, actual_pickup_time | 煎药记录信息结构   |

---

### **3. 数据流**

| **数据流名称（英文）** | **输入数据项**                                         | **输出数据项**  | **说明（中文名）** |
| ---------------------- | ------------------------------------------------------ | --------------- | ------------------ |
| patient_data_flow      | patient_info                                           | patient_id      | 患者数据流         |
| doctor_data_flow       | doctor_info                                            | doctor_id       | 医生数据流         |
| prescription_data_flow | patient_id, doctor_id, prescription_info               | prescription_id | 处方数据流         |
| pharmacy_data_flow     | pharmacy_info                                          | pharmacy_id     | 代煎药院数据流     |
| machine_data_flow      | machine_info                                           | machine_id      | 煎药机器数据流     |
| decoction_data_flow    | prescription_info, machine_info, decoction_record_info | decoction_id    | 煎药记录数据流     |

---

### **4. 数据存储**

| **数据存储名称（英文）** | **存储的数据项**      | **说明（中文名）** |
| ------------------------ | --------------------- | ------------------ |
| patient_storage          | patient_info          | 患者信息存储       |
| doctor_storage           | doctor_info           | 医生信息存储       |
| prescription_storage     | prescription_info     | 处方信息存储       |
| pharmacy_storage         | pharmacy_info         | 代煎药院信息存储   |
| machine_storage          | machine_info          | 煎药机器信息存储   |
| decoction_record_storage | decoction_record_info | 煎药记录信息存储   |
